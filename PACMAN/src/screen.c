#include "screen.h"


char map[MAP_HEIGHT][MAP_WIDTH + 1] = {
    "--------------------------------------------------------------------------------",
    "--------------------------------------PACMAN------------------------------------",
    "################################################################################",
    "#                #   #                  #    #                         #       #",
    "#    #   #########   #   ################    #######   #############   #       #",
    "#    #   #           #   #                           #   #       #      #      #",
    "#    #   #   #########   #   #########################   #   #   #######       #",
    "#    #       #           #   #       #                     #   #               #",
    "#    ###### ##############   ######  ########################   ##########     #",
    "#            #                                                                 #",
    "#    ###############   ########   ################   ######   ##########       #",
    "#    #              #   #     #   #              #   #    #   #                #",
    "#    ######   #######   ##### #   #   #######     #   #    #   #######   ####  #",
    "#    #        #             #     #   #     #     #   #             #   #      #",
    "#    #   ######   ###############     #     #########   #############   ####   #",
    "#    #   #              #                   #                          #       #",
    "#    #####   ##############   ###############   ################   #####       #",
    "#           #                   #                   #                          #",
    "################################################################################"
};


void screenClear() {
    printf("\033[2J");
}


void screenInit(int drawBorders) {
    screenClear();
    if (drawBorders) {
        printf("\033[1;1H");
    }
    printf("\033[?25l");
}


void screenDestroy() {
    printf("\033[?25h"); 
    printf("\033[0m");   
    screenClear();
}


void screenGotoxy(int x, int y) {
    printf("\033[%d;%dH", y + 1, x + 1); 
}


void screenUpdate() {
    fflush(stdout);
}


void screenDrawMap() {
    screenClear();
    for (int i = 0; i < MAP_HEIGHT; i++) {
        screenGotoxy(0, i);
        printf("%s", map[i]);
    }
    screenUpdate();
}
